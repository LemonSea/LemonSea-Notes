# HTTP 概述

HTTP 协议位于**应用层**。

HTTP 协议 **专用于 server 和 client**。虽然两者经常互换，但是当使用协议的时候，其中之一必然是 client，另一方必然是 server。

HTTP 是无状态协议，即协议本身不会保存状态。

# 告知服务器意图的 HTTP 方法

| 方法    | 意图               |
| ------- | ------------------ |
| GET     | 获取资源           |
| POST    | 传输实体主体       |
| PUT     | 传输文件           |
| HEAD    | 获取报文首部       |
| DELETE  | 删除文件           |
| CONNECT | 用隧道协议连接代理 |

我们常用 RESTful 的规范来定义接口：

| method | 含义 |
| ------ | ---- |
| GET    | 查询 |
| POST   | 创建 |
| PUT    | 修改 |
| DELETE | 删除 |

RESTful　是面向资源的。

# HTTP 持久化连接

**HTTP1.1 版本默认是持久化连接**的，如果想要关闭连接，需要服务器在首部中使用 `Connection: close` 进行关闭。

而 **HTTP1.0 默认非持久化连接**，要开启，需要在客户端首部中使用 `Connection: Keep-Alive` 进行开启。

需要注意的是，`Connection` 是逐跳首部，只对单次转发有效，会因通过缓存或代理而不再转发。

# HTTP 管线化

管线化技术即不用等待响应就发送下一个请求，这是建立在持久化上面的。

持久化可以让请求更快结束（节省了不断建立连接的时间），而管线化比持久化更快（又节省了不停等待响应的时间）。

# HTTP 2.0

- 二进制分帧
- 多路复用（连接共享）
- 头部压缩（Header）
- 服务器推送（Service Push）

# HTTP 缺点

- 通信使用明文，内容可能被窃听
- 不验证通信双方的身份，通信双方都存在被伪造的可能
- 无法验证报文的完整性，所有有可能被覆盖

# 使用 HTTPS

HTTP + 加密 + 认证 + 完整性保护 = HTTPS

HPPTS = HTTP + SSL
# webpack 官网食用指南

webpack API、插件官网就有很多，私人开发的更多，完全记住是不可能的，所以我们的使用方法就是遇到问题的时候要会查文档，要会问前辈。

# webpack 打包图片配置

webpack 默认能够打包 js，但是不能打包图片，要打包图片，需要使用插件：`file-loader`，可在官网查看，[webpack 官方文档](https://www.webpackjs.com/loaders/file-loader/)

【安装】

```shell
$ npm install --save-dev file-loader
```

还是上一章的案例，在 `img` 文件夹下放入一个图片，在 `index.js` 导入：

```js
import Header from './header';
import Sidebar from './sidebar';
import Content from './content';
import avater from '../img/png.png';

new Header();
new Sidebar();
new Content();
```

此时执行 `yarn run bundle` 会报错，因为 webpack 默认不能打包图片格式，我们需要自己配置：

webpack.config.js :

```js
const path = require('path')

module.exports = {
    mode: 'development',
    entry: {
    	main: './index.js'
    },
    module: {
        rules: [{
            test: /\.png$/,
            use: {
                loader: 'file-loader'
            }
        }]
    },
    output: {
        filename: 'bundle.js',
        path: path.resolve(__dirname, 'dist')
    }
}
```

我们在上面使用一个`file-loader` 插件来打包我们的图片，现在执行打包指令就不会出错 。

![81223485](http://free-en-01.oss.tusy.xyz/2020123/1177-stx90t.13vr.png)

成功后会发现 `dist` 目录下有两个文件，一个是我们的 js 文件打包，一个是我们的图片打包地文件，依然是一个图片。

![81223486](http://free-en-01.oss.tusy.xyz/2020123/4606-fyorgi.grdvl.png)

如果在 `index.js` 中 `console.log(avater)`，执行 `bundle.js` 文件，会输出图片的名字。

# webpack 打包机制

webpack 在打包的时候，默认能够打包 js 文件，当打包到我们链接的图片格式时，webpack 默认无法打包，就会去 webpack.config.js 中寻找帮助，我们在 webpack.config.js 中定义了文件 png 格式打包时使用 file-loader 这个插件，webpack 使用这个插件就能打包图片了。

**file-loader 可以打包很多文件（jpg，txt，excel 等）**

我们之所以知道 webpack 能够用 file-loader 打包图片，是官方文档推荐的，所以官方文档很重要！

# 什么是 loader

loader 就是 webpack 的打包机制，webpack 不知道如何打包时，就回去求助于 loader，以能够正确打包。